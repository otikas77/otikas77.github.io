!function(a){a(".burger").on("click",function(){var t;a(".buy-from-partners").hasClass("active")&&!a(".drop-menu").hasClass("drop-menu--active")?(a(".buy-from-partners").removeClass("active"),a(".burger").removeClass("burger--active span-color--black-buy-from-partners")):a(".recipies__popup").hasClass("active")?(a(".recipies__popup").removeClass("active"),setTimeout(function(){a(".burger").removeClass("burger--active")},300),a(".burger").addClass("burger--opacity-0")):a(".buy-from-partners").hasClass("active")&&a(".drop-menu").hasClass("drop-menu--active")?(a(".buy-from-partners").removeClass("active"),a(".burger").removeClass("span-color--black-buy-from-partners")):(a(this).toggleClass("burger--active"),a(this).toggleClass("span-color--black"),a(".drop-menu").toggleClass("drop-menu--active"),t=.1*a(".drop-menu--active nav li").length,a(".drop-menu--active nav li").each(function(){a(this).css("transition-delay",t+"s"),t-=.1}))});var e=a(".three-part-block .bottom-part .bottom-part__right .img").length,r=0,s=!0;a(".three-part-block .bottom-part .bottom-part__right .img").each(function(t){a(this).css("zIndex",e),--e});var o=function(){a(".main-page").addClass("prevSlide"),r<=a(".three-part-block .bottom-part .bottom-part__right .img").length-1?(1==r?a(".three-part-block .top-part").addClass("top-part--bg-position"):3==r&&setTimeout(function(){a(".burger").addClass("span-color--black-important")},1500),a(".three-part-block .top-part .text-scroll").css("transform","translate3d(-"+100*r+"vw, 0, 0)"),a(".text__wrapper").each(function(t){t==r?a(this).attr("data-curent","true"):t==r-1&&a(this).attr("data-curent","false")}),a(".three-part-block .bottom-part .bottom-part__right .img").each(function(t){t==r-1?a(this).attr("data-scroll","curent"):t==r-2?a(this).attr("data-scroll","prev"):t==r&&a(this).attr("data-scroll","next")}),a(".three-part-block").attr("data-scroll",r),r++):6==r?(r=7,a(".three-part-block").addClass("prev"),a(".video-with-handle").addClass("curent"),a(".burger").addClass("span-color--black"),a(".video-with-handle video").trigger("play"),a(".scroll-down").addClass("hide")):7==r?(r=8,a(".big-video").addClass("curent"),a(".video-with-handle").addClass("prev"),setTimeout(function(){a(".burger").removeClass("span-color--black-important"),a(".burger").removeClass("span-color--black")},1500)):8==r?(r=9,a(".big-video").addClass("prev"),a(".products-list").addClass("curent"),setTimeout(function(){a(".burger").addClass("span-color--black-important")},1500)):9==r&&(r=10,a(".recipies").addClass("curent"),a(".products-list").addClass("prev"),a(".burger").addClass("burger--opacity-0")),a(".three-part-block").addClass("animate")};a("body").on("swiperight",function(){o()}),a(".slider").on("wheel",function(t){s&&(console.log(s),s=!1,o(),setTimeout(function(){s=!0},1505),t.originalEvent.wheelDelta<0||0<t.originalEvent.wheelDelta&&(a(".three-part-block").hasClass("animate")&&1<=r&&r<=6?(a(".three-part-block .top-part .text-scroll").css("transform","translate3d(-"+100*(r-2)+"vw, 0, 0)"),a(".text__wrapper").each(function(t){t==r-1?a(this).attr("data-curent",""):t==r-2&&a(this).attr("data-curent","true")}),0==+a(".animate").attr("data-scroll")?(a(".main-page").removeClass("prevSlide"),a(".three-part-block").removeClass("animate"),a(".scroll-down").removeClass("hide"),a(".text__wrapper").each(function(t){0==t&&a(this).attr("data-curent","true")})):r<=2?(a(".three-part-block .top-part").removeClass("top-part--bg-position"),a(".three-part-block .bottom-part .bottom-part__right .img").each(function(t){t==r-2?a(this).attr("data-scroll","next"):t==r-3&&a(this).attr("data-scroll","curent")})):4==r&&setTimeout(function(){a(".burger").removeClass("span-color--black-important")},1500),a(".three-part-block .bottom-part .bottom-part__right .img").each(function(t){t==r-2?a(this).attr("data-scroll","next"):t==r-3?a(this).attr("data-scroll","curent"):t==r-1?a(this).attr("data-scroll",""):t==r&&a(this).attr("data-scroll","")}),1<=--r&&a(".three-part-block").attr("data-scroll",r-1)):7==r?(r=6,a(".three-part-block").removeClass("prev"),a(".video-with-handle").removeClass("curent"),a(".video-with-handle video").trigger("pause"),a(".scroll-down").removeClass("hide")):8==r?(console.log("test"),r=7,a(".big-video").removeClass("curent"),a(".video-with-handle").removeClass("prev"),setTimeout(function(){a(".burger").addClass("span-color--black-important")},1500)):9==r?(r=8,a(".big-video").removeClass("prev"),a(".products-list").removeClass("curent"),setTimeout(function(){a(".burger").removeClass("span-color--black-important")},1500)):10==r&&(r=9,a(".products-list").removeClass("prev"),a(".recipies").removeClass("curent"),a(".burger").removeClass("burger--opacity-0"))))}),Splitting({target:"[data-splitting]"});var i=a(".video-with-handle video"),l=a(".seekBar"),t=a(".seekBar button");i.on("timeupdate",function(t){l.css("width",100/this.duration*this.currentTime+"%")}),t.on("click",function(t){t.preventDefault()}),t.mousedown(function(t){t.preventDefault(),i.trigger("pause"),l.css({transition:"none"}),a(window).mousemove(function(t){t.pageX>l.offset().left&&l.offset().left+t.pageX<=a(window).width()&&(l.css("width",t.pageX-l.offset().left),a(".video-with-handle video")[0].currentTime=l.width()/l.parent().width()*a(".video-with-handle video")[0].duration)})}),a(window).mouseup(function(t){i.trigger("play"),a(window).off("mousemove"),l.css("width",t.pageX-l.offset().left),l.css("transition","all .3s linear")});var n=!0;a(".big-video .play-stop-btn a").on("click",function(){n?(n=!1,a(".big-video .video__wrapper video").trigger("play"),a(".logo-and-title, .seo, .social-links, .play-stop-btn").addClass("video--played"),a(".big-video").addClass("cursor--none"),a(".big-video .play-stop-btn a i").removeClass("fa-play"),a(".big-video .play-stop-btn a i").addClass("fa-pause"),a(".big-video").mousemove(function(){a(".play-stop-btn").removeClass("video--played"),a(".big-video").removeClass("cursor--none"),n||setTimeout(function(){a(".play-stop-btn").addClass("video--played")},2e3)})):(n=!0,a(".big-video .play-stop-btn a i").addClass("fa-play"),a(".big-video .play-stop-btn a i").removeClass("fa-pause"),a(".big-video .video__wrapper video").trigger("pause"),a(".logo-and-title, .seo, .social-links, .play-stop-btn").removeClass("video--played"),a(".big-video").addClass("cursor--none"))}),a(".recipies .recipies__item .play-btn a, .recipies .recipies__item .more-btn a").on("click",function(t){t.preventDefault(),a(".recipies__popup video").attr("src",a(this).parent().parent().attr("data-video")),a(".recipies__popup").addClass("active"),a(".burger").addClass("burger--active"),setTimeout(function(){a(".burger").removeClass("burger--opacity-0")},300)}),a(".recipies .main-field").slick({infinite:!0,slidesToShow:2,slidesToScroll:2,dots:!0,arrows:!1,responsive:[{breakpoint:992,settings:{slidesToShow:1,slidesToScroll:1}}]});var c=null;function d(){a(".products-intro .categories a").each(function(t){t==c?a(this).addClass("active"):a(this).removeClass("active")})}a(".products-intro .categories a").on("click",function(t){var e=a(this).index();return c=e,d(),c}),d(),a(".buy-from-partners__btn a").on("click",function(t){t.preventDefault(),a(".buy-from-partners").addClass("active"),a(".burger").addClass("span-color--black-buy-from-partners burger--active")}),a(".buy-from-partners .close-btn a").on("click",function(t){t.preventDefault(),a(".buy-from-partners").removeClass("active")}),a(".products__slider").slick({infinite:!0,prevArrow:a(".products-slider .arrows .prev a"),nextArrow:a(".products-slider .arrows .next a"),dots:!0}),a(".products-list__item").on("mouseenter",function(){a(".products-list__item").each(function(){a(this).removeClass("active"),a(this).addClass("unactive")}),a(this).removeClass("unactive"),a(this).addClass("active")}),a(".products-list__item").on("mouseleave",function(){a(".products-list__item").each(function(){a(this).removeClass("active"),a(this).removeClass("unactive")})});var p=function(e){s=!1,a(".burger").removeClass("burger--active"),a(".slide").each(function(){a(this).removeClass("curent prev"),+a(this).attr("data-slide")==+e?(a(this).addClass("curent"),console.log("test1")):+a(this).attr("data-slide")<+e?(a(this).addClass("curent prev"),console.log("test2")):(a(this).remove("curent prev"),console.log("test3"))}),r=+e+4,setTimeout(function(){a(".main-page").addClass("prevSlide"),a(".three-part-block").addClass("animate prev"),a(".three-part-block").attr("data-scroll","5"),a(".three-part-block .bottom-part .bottom-part__right .img").each(function(t){t==r-+e?a(this).attr("data-scroll","curent"):t==r-(+e-1)?a(this).attr("data-scroll","next"):a(this).attr("data-scroll","prev")}),a(".three-part-block .top-part").addClass("top-part--bg-position"),a(".three-part-block .top-part .text-scroll").css("transform","translate3d(-"+100*r+"vw, 0, 0)"),a(".text__wrapper").each(function(t){t==r-2?a(this).attr("data-curent","true"):a(this).attr("data-curent","false")}),a(".burger").addClass("span-color--black-important")},1500),setTimeout(function(){s=!0},2500)};a(".drop-menu nav a").on("click",function(){var t=a(this).parent().attr("data-scrollTo");p(t),a(".drop-menu").removeClass("drop-menu--active")}),a(".scroll-down a").on("click",function(t){t.preventDefault();var e=a(this).parent().attr("data-scrollTo");a(this).parent().addClass("hide"),p(e)})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyIkIiwib24iLCJkZWxheSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJzZXRUaW1lb3V0IiwiYWRkQ2xhc3MiLCJ0aGlzIiwidG9nZ2xlQ2xhc3MiLCJsZW5ndGgiLCJlYWNoIiwiY3NzIiwiaW1hZ2VaaW5kZXgiLCJjdXJlbnRTbGlkZSIsImNhblNjcm9sbCIsImluZGV4Iiwic2Nyb2xsVG9OZXhTbGlkZSIsImF0dHIiLCJ0cmlnZ2VyIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsIlNwbGl0dGluZyIsInRhcmdldCIsInZpZGVvIiwic2Vla0JhciIsInNlZWtCYXJCdG4iLCJldmVudCIsImR1cmF0aW9uIiwiY3VycmVudFRpbWUiLCJwcmV2ZW50RGVmYXVsdCIsIm1vdXNlZG93biIsInRyYW5zaXRpb24iLCJ3aW5kb3ciLCJtb3VzZW1vdmUiLCJwYWdlWCIsIm9mZnNldCIsImxlZnQiLCJ3aWR0aCIsInBhcmVudCIsIm1vdXNldXAiLCJvZmYiLCJiaWdWaWRlb1BsYXkiLCJzbGljayIsImluZmluaXRlIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJkb3RzIiwiYXJyb3dzIiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsIndoaWNoQ2F0ZWdvcnkiLCJjaGFuZ2VDYXRlZ29ydSIsInByZXZBcnJvdyIsIm5leHRBcnJvdyIsInNjcm9sbFRvU29tZVNsaWRlIiwid2hpY2hTbGlkZSIsInJlbW92ZSIsInNsaWRlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFVQSxHQWFSQSxFQUFFLFdBQVdDLEdBQUcsUUFBUyxXQVYzQixJQUNNQyxFQVVDRixFQUFFLHNCQUFzQkcsU0FBUyxZQUFjSCxFQUFFLGNBQWNHLFNBQVMsc0JBQ3pFSCxFQUFFLHNCQUFzQkksWUFBWSxVQUNwQ0osRUFBRSxXQUFXSSxZQUFZLHVEQUNsQkosRUFBRSxv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QUFTLFNBQVNrQixHQUN2Q0EsRUFBRWEsaUJBQ0YsSUFBSTZCLEVBQVE3RCxFQUFFTyxNQUFNa0MsU0FBU3hCLEtBQUssaUJBQ2xDakIsRUFBRU8sTUFBTWtDLFNBQVNuQyxTQUFTLFFBQzFCb0QsRUFBa0JHLEtBOWZ0QixDQWlnQkdDIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCkge1xyXG4gIFxyXG4vLyAtLS0+IERST1AgRE9XTiBNRU5VXHJcbmZ1bmN0aW9uIGdpdmVOYXZpZ2F0aW9uRGVsYXkgKCl7IFxyXG4gIHZhciBkZWxheSA9IDAuMSAqICQoJy5kcm9wLW1lbnUtLWFjdGl2ZSBuYXYgbGknKS5sZW5ndGg7XHJcbiAgXHJcbiAgJCgnLmRyb3AtbWVudS0tYWN0aXZlIG5hdiBsaScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICQodGhpcykuY3NzKCd0cmFuc2l0aW9uLWRlbGF5JywgZGVsYXkrJ3MnKVxyXG4gICAgZGVsYXkgPSBkZWxheSAtIDAuMVxyXG4gIH0pXHJcbn1cclxuXHJcbiBcclxuICAkKCcuYnVyZ2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgIGlmKCQoJy5idXktZnJvbS1wYXJ0bmVycycpLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiAhJCgnLmRyb3AtbWVudScpLmhhc0NsYXNzKCdkcm9wLW1lbnUtLWFjdGl2ZScpKXtcclxuICAgICAgJCgnLmJ1eS1mcm9tLXBhcnRuZXJzJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICQoJy5idXJnZXInKS5yZW1vdmVDbGFzcygnYnVyZ2VyLS1hY3RpdmUgc3Bhbi1jb2xvci0tYmxhY2stYnV5LWZyb20tcGFydG5lcnMnKVxyXG4gICAgfWVsc2UgaWYoJCgnLnJlY2lwaWVzX19wb3B1cCcpLmhhc0NsYXNzKCdhY3RpdmUnKSl7XHJcbiAgICAgICQoJy5yZWNpcGllc19fcG9wdXAnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICQoJy5idXJnZXInKS5yZW1vdmVDbGFzcygnYnVyZ2VyLS1hY3RpdmUnKVxyXG4gICAgICB9LCAzMDApXHJcbiAgICAgICQoJy5idXJnZXInKS5hZGRDbGFzcygnYnVyZ2VyLS1vcGFjaXR5LTAnKVxyXG4gICAgfWVsc2UgaWYoJCgnLmJ1eS1mcm9tLXBhcnRuZXJzJykuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmICQoJy5kcm9wLW1lbnUnKS5oYXNDbGFzcygnZHJvcC1tZW51LS1hY3RpdmUnKSl7XHJcbiAgICAgICQoJy5idXktZnJvbS1wYXJ0bmVycycpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAkKCcuYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrLWJ1eS1mcm9tLXBhcnRuZXJzJylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ2J1cmdlci0tYWN0aXZlJyk7XHJcbiAgICAgICQodGhpcykudG9nZ2xlQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrJyk7XHJcbiAgICAgICQoJy5kcm9wLW1lbnUnKS50b2dnbGVDbGFzcygnZHJvcC1tZW51LS1hY3RpdmUnKTtcclxuICAgICAgZ2l2ZU5hdmlnYXRpb25EZWxheSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgfSlcclxuLy8gPC0tLSBEUk9QIERPV04gTUVOVVxyXG5cclxuLy8gLS0tPiBTTElERVIgTE9HSUNLIFxyXG5cclxuICB2YXIgaW1hZ2VaaW5kZXggPSAkKCcudGhyZWUtcGFydC1ibG9jayAuYm90dG9tLXBhcnQgLmJvdHRvbS1wYXJ0X19yaWdodCAuaW1nJykubGVuZ3RoIFxyXG4gIHZhciBjdXJlbnRTbGlkZSA9IDA7XHJcbiAgdmFyIGNhblNjcm9sbCA9IHRydWU7XHJcbiAgdmFyIGFuaW1hdGl0b25FbmQgPSB0cnVlO1xyXG5cclxuICAvLyAtLS0+IEFERCBaLUlOREVYIEZPUiBBTEwgSU1BR0VTXHJcbiAgJCgnLnRocmVlLXBhcnQtYmxvY2sgLmJvdHRvbS1wYXJ0IC5ib3R0b20tcGFydF9fcmlnaHQgLmltZycpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgJCh0aGlzKS5jc3MoJ3pJbmRleCcsIGltYWdlWmluZGV4KVxyXG4gICAgLS1pbWFnZVppbmRleFxyXG4gIH0pXHJcbiAgLy8gPC0tLSBBREQgWi1JTkRFWCBGT1IgQUxMIElNQUdFU1xyXG4vLyAgICQoJ2JvZHknKS5vbigndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4vLyAgICAgICBjb25zb2xlLmxvZygndGVzdCcpO1xyXG4vLyAgICAgICBhbmltYXRpdG9uRW5kID0gdHJ1ZVxyXG4vLyAgICAgfSwgMTUwMClcclxuLy8gICAgIHJldHVybiBcclxuLy8gfSk7IFxyXG5cclxuXHJcbiAgdmFyIHNjcm9sbFRvTmV4U2xpZGUgPSBmdW5jdGlvbigpe1xyXG4gICAgJCgnLm1haW4tcGFnZScpLmFkZENsYXNzKCdwcmV2U2xpZGUnKVxyXG4gICAgLy8gJCgnLnNjcm9sbC1kb3duJykuYWRkQ2xhc3MoJ2hpZGUnKVxyXG4gICAgICAgaWYoY3VyZW50U2xpZGUgPD0gJCgnLnRocmVlLXBhcnQtYmxvY2sgLmJvdHRvbS1wYXJ0IC5ib3R0b20tcGFydF9fcmlnaHQgLmltZycpLmxlbmd0aCAtIDEpe1xyXG4gICAgICAgIC8vIC0tLT4gQUREIEJHIEZPUiBGSVJTVCBTTElERVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGN1cmVudFNsaWRlID09IDEpe1xyXG4gICAgICAgICAgJCgnLnRocmVlLXBhcnQtYmxvY2sgLnRvcC1wYXJ0JykuYWRkQ2xhc3MoJ3RvcC1wYXJ0LS1iZy1wb3NpdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKGN1cmVudFNsaWRlID09IDMpe1xyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcuYnVyZ2VyJykuYWRkQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrLWltcG9ydGFudCcpXHJcbiAgICAgICAgICB9LCAxNTAwKVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA8LS0tIEFERCBCRyBGT1IgRklSU1QgU0xJREVcclxuXHJcbiAgICAgICAgLy8gLS0tPiBURVhUIEFOSU1BVElPTlxyXG4gICAgICAgICQoJy50aHJlZS1wYXJ0LWJsb2NrIC50b3AtcGFydCAudGV4dC1zY3JvbGwnKS5jc3MoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUzZCgtJysgKDEwMCAqIGN1cmVudFNsaWRlKSArJ3Z3LCAwLCAwKScpXHJcblxyXG4gICAgICAgICQoJy50ZXh0X193cmFwcGVyJykuZWFjaChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgICBpZihpbmRleCA9PSBjdXJlbnRTbGlkZSl7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jdXJlbnQnLCAndHJ1ZScpXHJcbiAgICAgICAgICB9ZWxzZSBpZihpbmRleCA9PSBjdXJlbnRTbGlkZSAtIDEpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY3VyZW50JywgJ2ZhbHNlJylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIDwtLS0gVEVYVCBBTklNQVRJT05cclxuXHJcbiAgICAgICAgLy8gLS0tPiBDSEFOR0UgREFUQS1BVFJJQlVURVMgRk9SIElNQUdFU1xyXG4gICAgICAgICQoJy50aHJlZS1wYXJ0LWJsb2NrIC5ib3R0b20tcGFydCAuYm90dG9tLXBhcnRfX3JpZ2h0IC5pbWcnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcclxuICAgICAgICAgIGlmKGluZGV4ID09IGN1cmVudFNsaWRlIC0gMSl7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnY3VyZW50JylcclxuICAgICAgICAgIH1lbHNlIGlmKGluZGV4ID09IGN1cmVudFNsaWRlIC0gMil7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAncHJldicpXHJcbiAgICAgICAgICB9ZWxzZSBpZihpbmRleCA9PSBjdXJlbnRTbGlkZSl7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnbmV4dCcpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyA8LS0tIENIQU5HRSBEQVRBLUFUUklCVVRFUyBGT1IgSU1BR0VTXHJcbiAgICAgICAgJCgnLnRocmVlLXBhcnQtYmxvY2snKS5hdHRyKCdkYXRhLXNjcm9sbCcsIGN1cmVudFNsaWRlKVxyXG4gICAgICAgIGN1cmVudFNsaWRlKytcclxuICAgICAgfSBcclxuICAgICAgXHJcbiAgICAgIGVsc2UgaWYoY3VyZW50U2xpZGUgPT0gNil7XHJcbiAgICAgICAgY3VyZW50U2xpZGUgPSA3XHJcbiAgICAgICAgJCgnLnRocmVlLXBhcnQtYmxvY2snKS5hZGRDbGFzcygncHJldicpXHJcbiAgICAgICAgJCgnLnZpZGVvLXdpdGgtaGFuZGxlJykuYWRkQ2xhc3MoJ2N1cmVudCcpXHJcbiAgICAgICAgJCgnLmJ1cmdlcicpLmFkZENsYXNzKCdzcGFuLWNvbG9yLS1ibGFjaycpXHJcbiAgICAgICAgJCgnLnZpZGVvLXdpdGgtaGFuZGxlIHZpZGVvJykudHJpZ2dlcigncGxheScpXHJcbiAgICAgICAgJCgnLnNjcm9sbC1kb3duJykuYWRkQ2xhc3MoJ2hpZGUnKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYoY3VyZW50U2xpZGUgPT0gNyl7XHJcbiAgICAgICAgY3VyZW50U2xpZGUgPSA4XHJcbiAgICAgICAgJCgnLmJpZy12aWRlbycpLmFkZENsYXNzKCdjdXJlbnQnKTtcclxuICAgICAgICAkKCcudmlkZW8td2l0aC1oYW5kbGUnKS5hZGRDbGFzcygncHJldicpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICQoJy5idXJnZXInKS5yZW1vdmVDbGFzcygnc3Bhbi1jb2xvci0tYmxhY2staW1wb3J0YW50Jyk7XHJcbiAgICAgICAgICAkKCcuYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrJyk7XHJcbiAgICAgICAgfSwgMTUwMClcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKGN1cmVudFNsaWRlID09IDgpe1xyXG4gICAgICAgIGN1cmVudFNsaWRlID0gOTtcclxuICAgICAgICAkKCcuYmlnLXZpZGVvJykuYWRkQ2xhc3MoJ3ByZXYnKTtcclxuICAgICAgICAkKCcucHJvZHVjdHMtbGlzdCcpLmFkZENsYXNzKCdjdXJlbnQnKVxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICQoJy5idXJnZXInKS5hZGRDbGFzcygnc3Bhbi1jb2xvci0tYmxhY2staW1wb3J0YW50JylcclxuICAgICAgICB9LCAxNTAwKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2UgaWYoY3VyZW50U2xpZGUgPT0gOSl7XHJcbiAgICAgICAgY3VyZW50U2xpZGUgPSAxMDtcclxuICAgICAgICAkKCcucmVjaXBpZXMnKS5hZGRDbGFzcygnY3VyZW50Jyk7XHJcbiAgICAgICAgJCgnLnByb2R1Y3RzLWxpc3QnKS5hZGRDbGFzcygncHJldicpOyBcclxuICAgICAgICAkKCcuYnVyZ2VyJykuYWRkQ2xhc3MoJ2J1cmdlci0tb3BhY2l0eS0wJylcclxuICAgICAgfVxyXG4gICAgICAkKCcudGhyZWUtcGFydC1ibG9jaycpLmFkZENsYXNzKCdhbmltYXRlJyk7XHJcbiAgfVxyXG5cclxuICAkKCBcImJvZHlcIiApLm9uKCBcInN3aXBlcmlnaHRcIiwgZnVuY3Rpb24oKXtcclxuICAgIHNjcm9sbFRvTmV4U2xpZGUoKVxyXG4gIH0gKTtcclxuXHJcblxyXG4gICQoJy5zbGlkZXInKS5vbignd2hlZWwnLCBmdW5jdGlvbihlKXtcclxuXHJcbiAgICAgIGlmKGNhblNjcm9sbCl7XHJcbiAgICAgICAgLy8tLS0+IFNDUk9MTCBUTyBORVhUIFNMSURFXHJcbiAgICAgICAgY29uc29sZS5sb2coY2FuU2Nyb2xsKVxyXG4gICAgICAgIGNhblNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNjcm9sbFRvTmV4U2xpZGUoKTtcclxuXHJcbiAgICAgICAgLy8gLS0tPiBBREQgUE9TSUJJTElUWSBUTyBTQ1JPTEwgQUdBSU4gVEhST1VHSCBPTkUgU0VDT05EXHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgY2FuU2Nyb2xsID0gdHJ1ZVxyXG4gICAgICAgIH0sIDE1MDUpXHJcbiAgICAgIC8vIDwtLS0gQUREIFBPU0lCSUxJVFkgVE8gU0NST0xMIEFHQUlOIFRIUk9VR0ggT05FIFNFQ09ORFxyXG4gICAgICAgIGlmKGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhIDwgMCkge1xyXG4gICAgICAgICAgXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyA8LS0tIFNDUk9MTCBUTyBORVhUIFNMSURFXHJcblxyXG4gICAgICAgIC8vIC0tLT4gU0NST0xMIFRPIFBSRVZJT1VTIFNMSURFIFxyXG4gICAgICAgIGVsc2UgaWYoZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEgPiAwKXtcclxuICAgICAgICAgIGlmKCQoJy50aHJlZS1wYXJ0LWJsb2NrJykuaGFzQ2xhc3MoJ2FuaW1hdGUnKSAgJiYgY3VyZW50U2xpZGUgPj0gMSAmJiBjdXJlbnRTbGlkZSA8PSA2KXtcclxuICAgICAgICAgICAgLy8gLS0tPiBURVhUIEFOSU1BVElPTlxyXG4gICAgICAgICAgICAkKCcudGhyZWUtcGFydC1ibG9jayAudG9wLXBhcnQgLnRleHQtc2Nyb2xsJykuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoLScrICgxMDAgKiAoY3VyZW50U2xpZGUgLSAyKSkgKyd2dywgMCwgMCknKVxyXG4gICAgICAgICAgICAkKCcudGV4dF9fd3JhcHBlcicpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgICAgIGlmKGluZGV4ID09IGN1cmVudFNsaWRlLTEpe1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLWN1cmVudCcsICcnKVxyXG4gICAgICAgICAgICAgIH1lbHNlIGlmKGluZGV4ID09IGN1cmVudFNsaWRlIC0gMil7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY3VyZW50JywgJ3RydWUnKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gLS0tPiBURVhUIEFOSU1BVElPTlxyXG5cclxuICAgICAgICAgICAgLy8gUkVNT1ZFIElGIElUIEZJUlNUIFNMSURFXHJcbiAgICAgICAgICAgIGlmKCsoJCgnLmFuaW1hdGUnKS5hdHRyKCdkYXRhLXNjcm9sbCcpKSA9PSAwICl7XHJcbiAgICAgICAgICAgICAgJCgnLm1haW4tcGFnZScpLnJlbW92ZUNsYXNzKCdwcmV2U2xpZGUnKVxyXG4gICAgICAgICAgICAgICQoJy50aHJlZS1wYXJ0LWJsb2NrJykucmVtb3ZlQ2xhc3MoJ2FuaW1hdGUnKVxyXG4gICAgICAgICAgICAgICQoJy5zY3JvbGwtZG93bicpLnJlbW92ZUNsYXNzKCdoaWRlJylcclxuICAgICAgICAgICAgICAkKCcudGV4dF9fd3JhcHBlcicpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgaWYoaW5kZXggPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jdXJlbnQnLCAndHJ1ZScpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgLy8gUkVNT1ZFIElGIElUIEZJUlNUIFNMSURFXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUkVUVVJOIEJBQ0sgQkcgSU1BR0VcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICBlbHNlIGlmKGN1cmVudFNsaWRlIDw9IDIpe1xyXG4gICAgICAgICAgICAkKCcudGhyZWUtcGFydC1ibG9jayAudG9wLXBhcnQnKS5yZW1vdmVDbGFzcygndG9wLXBhcnQtLWJnLXBvc2l0aW9uJylcclxuICAgICAgICAgICAgJCgnLnRocmVlLXBhcnQtYmxvY2sgLmJvdHRvbS1wYXJ0IC5ib3R0b20tcGFydF9fcmlnaHQgLmltZycpLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xyXG4gICAgICAgICAgICAgIGlmKGluZGV4ID09IGN1cmVudFNsaWRlIC0gMil7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc2Nyb2xsJywgJ25leHQnKVxyXG4gICAgICAgICAgICAgIH1lbHNlIGlmKGluZGV4ID09IGN1cmVudFNsaWRlIC0gMyl7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc2Nyb2xsJywgJ2N1cmVudCcpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gUkVUVVJOIEJBQ0sgQkcgSU1BR0VcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2UgaWYoY3VyZW50U2xpZGUgPT0gNCl7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkKCcuYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrLWltcG9ydGFudCcpXHJcbiAgICAgICAgICAgIH0sIDE1MDApXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAgLy8gLS0tPiBDSEFOR0UgREFUQS1BVFJJQlVURVMgRk9SIElNQUdFU1xyXG4gICAgICAgICAgICAkKCcudGhyZWUtcGFydC1ibG9jayAuYm90dG9tLXBhcnQgLmJvdHRvbS1wYXJ0X19yaWdodCAuaW1nJykuZWFjaChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgICAgICAgaWYoaW5kZXggPT0gY3VyZW50U2xpZGUgLSAyKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnbmV4dCcpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGVsc2UgaWYoaW5kZXggPT0gY3VyZW50U2xpZGUgLSAzKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnY3VyZW50JylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZSBpZiggaW5kZXggPT0gY3VyZW50U2xpZGUgLSAxKXtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnJylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZSBpZiggaW5kZXggPT0gY3VyZW50U2xpZGUpe1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcsICcnKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgIC8vIDwtLS0gQ0hBTkdFIERBVEEtQVRSSUJVVEVTIEZPUiBJTUFHRVNcclxuICAgICAgICAgICAgLS1jdXJlbnRTbGlkZVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGN1cmVudFNsaWRlID49IDEpe1xyXG4gICAgICAgICAgICAgICQoJy50aHJlZS1wYXJ0LWJsb2NrJykuYXR0cignZGF0YS1zY3JvbGwnLCBjdXJlbnRTbGlkZSAtIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoY3VyZW50U2xpZGUgPT0gNyl7XHJcbiAgICAgICAgICBjdXJlbnRTbGlkZSA9IDZcclxuICAgICAgICAgICQoJy50aHJlZS1wYXJ0LWJsb2NrJykucmVtb3ZlQ2xhc3MoJ3ByZXYnKTtcclxuICAgICAgICAgICQoJy52aWRlby13aXRoLWhhbmRsZScpLnJlbW92ZUNsYXNzKCdjdXJlbnQnKTtcclxuICAgICAgICAgICQoJy52aWRlby13aXRoLWhhbmRsZSB2aWRlbycpLnRyaWdnZXIoJ3BhdXNlJylcclxuICAgICAgICAgICQoJy5zY3JvbGwtZG93bicpLnJlbW92ZUNsYXNzKCdoaWRlJylcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihjdXJlbnRTbGlkZSA9PSA4KXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCd0ZXN0JylcclxuICAgICAgICAgIGN1cmVudFNsaWRlID0gN1xyXG4gICAgICAgICAgJCgnLmJpZy12aWRlbycpLnJlbW92ZUNsYXNzKCdjdXJlbnQnKTtcclxuICAgICAgICAgICQoJy52aWRlby13aXRoLWhhbmRsZScpLnJlbW92ZUNsYXNzKCdwcmV2Jyk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQoJy5idXJnZXInKS5hZGRDbGFzcygnc3Bhbi1jb2xvci0tYmxhY2staW1wb3J0YW50JylcclxuICAgICAgICAgIH0sIDE1MDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoY3VyZW50U2xpZGUgPT0gOSl7XHJcbiAgICAgICAgICBjdXJlbnRTbGlkZSA9IDg7XHJcbiAgICAgICAgICAkKCcuYmlnLXZpZGVvJykucmVtb3ZlQ2xhc3MoJ3ByZXYnKTtcclxuICAgICAgICAgICQoJy5wcm9kdWN0cy1saXN0JykucmVtb3ZlQ2xhc3MoJ2N1cmVudCcpO1xyXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcuYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrLWltcG9ydGFudCcpXHJcbiAgICAgICAgICB9LCAxNTAwKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZihjdXJlbnRTbGlkZSA9PSAxMCl7XHJcbiAgICAgICAgICBjdXJlbnRTbGlkZSA9IDk7XHJcbiAgICAgICAgICAkKCcucHJvZHVjdHMtbGlzdCcpLnJlbW92ZUNsYXNzKCdwcmV2Jyk7XHJcbiAgICAgICAgICAkKCcucmVjaXBpZXMnKS5yZW1vdmVDbGFzcygnY3VyZW50Jyk7XHJcbiAgICAgICAgICAkKCcuYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ2J1cmdlci0tb3BhY2l0eS0wJylcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgLy8gLS0tPiBBREQgUE9TSUJJTElUWSBUTyBTQ1JPTEwgQUdBSU4gVEhST1VHSCBPTkUgU0VDT05EXHJcbiAgICAgICAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAvLyAgIGNhblNjcm9sbCA9IHRydWVcclxuICAgICAgICAgIC8vIH0sIDEwMDApXHJcbiAgICAgICAgICAvLyA8LS0tIEFERCBQT1NJQklMSVRZIFRPIFNDUk9MTCBBR0FJTiBUSFJPVUdIIE9ORSBTRUNPTkRcclxuXHJcbiAgICAgIH1cclxuICAgICAgLy8gPC0tLSBTQ1JPTEwgVE8gUFJFVklPVVMgU0xJREVcclxuXHJcbiAgICAgIC8vIC8vIC0tLT4gUkVNT1ZFIFBPU0lCSUxJVFkgVE8gU0NST0xMIEFHQUlOXHJcbiAgICAgIC8vIGNhblNjcm9sbCA9IGZhbHNlXHJcbiAgICAgIC8vIC8vIDwtLS0gUkVNT1ZFIFBPU0lCSUxJVFkgVE8gU0NST0xMIEFHQUlOXHJcbiAgfSk7XHJcbi8vIDwtLS0gU0xJREVSIExPR0lDS1xyXG5cclxuICAvLyAtLS0+IFRFWFQgU1BMSVRJTkdcclxuICBTcGxpdHRpbmcoe1xyXG4gICAgdGFyZ2V0OiBcIltkYXRhLXNwbGl0dGluZ11cIlxyXG4gIH0pO1xyXG4gIC8vIDwtLS0gVEVYVCBTUExJVElOR1xyXG5cclxuICAvLyAtLS0+IFNFRUsgQkFSIEZPUiAndmlkZW8td2l0aC1oYW5kbGUnXHJcbiAgdmFyIHZpZGVvID0gJCgnLnZpZGVvLXdpdGgtaGFuZGxlIHZpZGVvJyk7XHJcbiAgdmFyIHNlZWtCYXIgPSAkKFwiLnNlZWtCYXJcIik7XHJcbiAgdmFyIHNlZWtCYXJCdG4gPSAkKFwiLnNlZWtCYXIgYnV0dG9uXCIpXHJcbiAgIFxyXG4gIHZpZGVvLm9uKFxyXG4gICAgXCJ0aW1ldXBkYXRlXCIsIFxyXG4gICAgZnVuY3Rpb24oZXZlbnQpe1xyXG4gICAgICBzZWVrQmFyLmNzcygnd2lkdGgnLCAnJysgKCgxMDAgLyB0aGlzLmR1cmF0aW9uKSAqIHRoaXMuY3VycmVudFRpbWUpICsnJScpXHJcbiAgfSk7XHJcblxyXG4gIHNlZWtCYXJCdG4ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICB9KTtcclxuXHJcbiAgc2Vla0JhckJ0bi5tb3VzZWRvd24oZnVuY3Rpb24oZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2aWRlby50cmlnZ2VyKCdwYXVzZScpO1xyXG4gICAgc2Vla0Jhci5jc3Moe1xyXG4gICAgICB0cmFuc2l0aW9uOiAnbm9uZScsXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICAkKHdpbmRvdykubW91c2Vtb3ZlKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYoZS5wYWdlWCA+IHNlZWtCYXIub2Zmc2V0KCkubGVmdCAmJiAoc2Vla0Jhci5vZmZzZXQoKS5sZWZ0ICsgZS5wYWdlWCkgPD0gJCh3aW5kb3cpLndpZHRoKCkpe1xyXG4gICAgICAgIHNlZWtCYXIuY3NzKCd3aWR0aCcsICBlLnBhZ2VYIC0gc2Vla0Jhci5vZmZzZXQoKS5sZWZ0KVxyXG4gICAgICAgICQoJy52aWRlby13aXRoLWhhbmRsZSB2aWRlbycpWzBdLmN1cnJlbnRUaW1lID0gKChzZWVrQmFyLndpZHRoKCkgLyBzZWVrQmFyLnBhcmVudCgpLndpZHRoKCkpKSAqICQoJy52aWRlby13aXRoLWhhbmRsZSB2aWRlbycpWzBdLmR1cmF0aW9uXHJcbiAgICAgIH0gXHJcbiAgICB9KVxyXG4gIH0pO1xyXG5cclxuICAkKHdpbmRvdykubW91c2V1cChmdW5jdGlvbihlKXtcclxuICAgIHZpZGVvLnRyaWdnZXIoJ3BsYXknKTtcclxuICAgICQod2luZG93KS5vZmYoJ21vdXNlbW92ZScpO1xyXG4gICAgc2Vla0Jhci5jc3MoJ3dpZHRoJywgIGUucGFnZVggLSBzZWVrQmFyLm9mZnNldCgpLmxlZnQpXHJcbiAgICBzZWVrQmFyLmNzcygndHJhbnNpdGlvbicsICdhbGwgLjNzIGxpbmVhcicpXHJcbiAgfSk7XHJcbiAgLy8gPC0tLSBTRUVLIEJBUiBGT1IgJ3ZpZGVvLXdpdGgtaGFuZGxlJ1xyXG5cclxuICAvLyAtLS0+IEJJRyBWSURFTyBCTE9DS1xyXG4gICAgdmFyIGJpZ1ZpZGVvUGxheSA9IHRydWVcclxuXHJcbiAgICAkKCcuYmlnLXZpZGVvIC5wbGF5LXN0b3AtYnRuIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgICBpZihiaWdWaWRlb1BsYXkpe1xyXG4gICAgICAgIGJpZ1ZpZGVvUGxheSA9IGZhbHNlO1xyXG4gICAgICAgICQoJy5iaWctdmlkZW8gLnZpZGVvX193cmFwcGVyIHZpZGVvJykudHJpZ2dlcigncGxheScpO1xyXG4gICAgICAgICQoJy5sb2dvLWFuZC10aXRsZSwgLnNlbywgLnNvY2lhbC1saW5rcywgLnBsYXktc3RvcC1idG4nKS5hZGRDbGFzcygndmlkZW8tLXBsYXllZCcpO1xyXG4gICAgICAgICQoJy5iaWctdmlkZW8nKS5hZGRDbGFzcygnY3Vyc29yLS1ub25lJyk7XHJcbiAgICAgICAgJCgnLmJpZy12aWRlbyAucGxheS1zdG9wLWJ0biBhIGknKS5yZW1vdmVDbGFzcygnZmEtcGxheScpO1xyXG4gICAgICAgICQoJy5iaWctdmlkZW8gLnBsYXktc3RvcC1idG4gYSBpJykuYWRkQ2xhc3MoJ2ZhLXBhdXNlJyk7XHJcbiAgICAgICAgJCgnLmJpZy12aWRlbycpLm1vdXNlbW92ZShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgJCgnLnBsYXktc3RvcC1idG4nKS5yZW1vdmVDbGFzcygndmlkZW8tLXBsYXllZCcpXHJcbiAgICAgICAgICAkKCcuYmlnLXZpZGVvJykucmVtb3ZlQ2xhc3MoJ2N1cnNvci0tbm9uZScpXHJcbiAgICAgICAgICBpZighYmlnVmlkZW9QbGF5KXtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICQoJy5wbGF5LXN0b3AtYnRuJykuYWRkQ2xhc3MoJ3ZpZGVvLS1wbGF5ZWQnKVxyXG4gICAgICAgICAgICB9LCAyMDAwKVxyXG4gICAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBiaWdWaWRlb1BsYXkgPSB0cnVlO1xyXG4gICAgICAgICQoJy5iaWctdmlkZW8gLnBsYXktc3RvcC1idG4gYSBpJykuYWRkQ2xhc3MoJ2ZhLXBsYXknKTtcclxuICAgICAgICAkKCcuYmlnLXZpZGVvIC5wbGF5LXN0b3AtYnRuIGEgaScpLnJlbW92ZUNsYXNzKCdmYS1wYXVzZScpO1xyXG4gICAgICAgICQoJy5iaWctdmlkZW8gLnZpZGVvX193cmFwcGVyIHZpZGVvJykudHJpZ2dlcigncGF1c2UnKTtcclxuICAgICAgICAkKCcubG9nby1hbmQtdGl0bGUsIC5zZW8sIC5zb2NpYWwtbGlua3MsIC5wbGF5LXN0b3AtYnRuJykucmVtb3ZlQ2xhc3MoJ3ZpZGVvLS1wbGF5ZWQnKVxyXG4gICAgICAgICQoJy5iaWctdmlkZW8nKS5hZGRDbGFzcygnY3Vyc29yLS1ub25lJylcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgLy8gPC0tLSBCSUcgVklERU8gQkxPQ0tcclxuXHJcbiAgLy8gLS0tPiBSRUNJUElFUyBCTE9DS1xyXG5cclxuICAgICQoJy5yZWNpcGllcyAucmVjaXBpZXNfX2l0ZW0gLnBsYXktYnRuIGEsIC5yZWNpcGllcyAucmVjaXBpZXNfX2l0ZW0gLm1vcmUtYnRuIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAkKCcucmVjaXBpZXNfX3BvcHVwIHZpZGVvJykuYXR0cignc3JjJywgJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdkYXRhLXZpZGVvJykpXHJcbiAgICAgICQoJy5yZWNpcGllc19fcG9wdXAnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgJCgnLmJ1cmdlcicpLmFkZENsYXNzKCdidXJnZXItLWFjdGl2ZScpXHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkKCcuYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ2J1cmdlci0tb3BhY2l0eS0wJylcclxuICAgICAgfSwgMzAwKVxyXG4gICAgfSlcclxuICAgIC8vIC0tLT4gU0xJREVSXHJcblxyXG4gICAgJCgnLnJlY2lwaWVzIC5tYWluLWZpZWxkJykuc2xpY2soe1xyXG4gICAgICBpbmZpbml0ZTogdHJ1ZSxcclxuICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICBzbGlkZXNUb1Njcm9sbDogMixcclxuICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgcmVzcG9uc2l2ZTogW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIGJyZWFrcG9pbnQ6IDk5MixcclxuICAgICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyA8LS0tIFNMSURFUlxyXG4gIC8vIDwtLS0gUkVDSVBJRVMgQkxPQ0tcclxuXHJcbiAgLy8gLS0tPiBDQVRFR09SSUVTIExPR0lDXHJcbiAgICB2YXIgd2hpY2hDYXRlZ29yeSA9IG51bGxcclxuXHJcbiAgICAkKCcucHJvZHVjdHMtaW50cm8gLmNhdGVnb3JpZXMgYScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICB2YXIgaW5kZXggPSAkKHRoaXMpLmluZGV4KClcclxuICAgICAgd2hpY2hDYXRlZ29yeSA9IGluZGV4XHJcbiAgICAgIGNoYW5nZUNhdGVnb3J1KClcclxuICAgICAgcmV0dXJuIHdoaWNoQ2F0ZWdvcnlcclxuICAgIH0pXHJcblxyXG4gICAgZnVuY3Rpb24gY2hhbmdlQ2F0ZWdvcnUoKXtcclxuICAgICAgJCgnLnByb2R1Y3RzLWludHJvIC5jYXRlZ29yaWVzIGEnKS5lYWNoKGZ1bmN0aW9uKGluZGV4KXtcclxuICAgICAgICBpZiAoaW5kZXggPT0gd2hpY2hDYXRlZ29yeSl7XHJcbiAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjaGFuZ2VDYXRlZ29ydSgpXHJcblxyXG4gIC8vIDwtLS0gQ0FURUdPUklFUyBMT0dJQ1xyXG4gICQoJy5idXktZnJvbS1wYXJ0bmVyc19fYnRuIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICQoJy5idXktZnJvbS1wYXJ0bmVycycpLmFkZENsYXNzKFwiYWN0aXZlXCIpXHJcbiAgICAkKCcuYnVyZ2VyJykuYWRkQ2xhc3MoJ3NwYW4tY29sb3ItLWJsYWNrLWJ1eS1mcm9tLXBhcnRuZXJzIGJ1cmdlci0tYWN0aXZlJylcclxuICB9KVxyXG5cclxuICAkKCcuYnV5LWZyb20tcGFydG5lcnMgLmNsb3NlLWJ0biBhJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKCcuYnV5LWZyb20tcGFydG5lcnMnKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKVxyXG4gIH0pXHJcblxyXG4gICQoJy5wcm9kdWN0c19fc2xpZGVyJykuc2xpY2soe1xyXG4gICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICBwcmV2QXJyb3c6ICQoJy5wcm9kdWN0cy1zbGlkZXIgLmFycm93cyAucHJldiBhJyksXHJcbiAgICBuZXh0QXJyb3c6ICQoJy5wcm9kdWN0cy1zbGlkZXIgLmFycm93cyAubmV4dCBhJyksXHJcbiAgICBkb3RzOiB0cnVlXHJcbiAgfSk7XHJcblxyXG4gICQoJy5wcm9kdWN0cy1saXN0X19pdGVtJykub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpe1xyXG4gICAgJCgnLnByb2R1Y3RzLWxpc3RfX2l0ZW0nKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3VuYWN0aXZlJylcclxuICAgIH0pXHJcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd1bmFjdGl2ZScpXHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gIH0pXHJcbiAgJCgnLnByb2R1Y3RzLWxpc3RfX2l0ZW0nKS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcucHJvZHVjdHMtbGlzdF9faXRlbScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndW5hY3RpdmUnKVxyXG4gICAgfSlcclxuICB9KVxyXG5cclxuICAvLyAtLS0+IFVTRSBUSElTIEZVTkNUSU9OIElGIFlPVSBXQU5UIFRPIFNDUk9MTCBPTiBTT01FIFNMSURFIFdIRU4gQ0xJQ0sgT04gQlROXHJcbiAgdmFyIHNjcm9sbFRvU29tZVNsaWRlID0gZnVuY3Rpb24od2hpY2hTbGlkZSl7XHJcbiAgICBjYW5TY3JvbGwgPSBmYWxzZVxyXG4gICAgJCgnLmJ1cmdlcicpLnJlbW92ZUNsYXNzKCdidXJnZXItLWFjdGl2ZScpIFxyXG5cclxuICAgICQoJy5zbGlkZScpLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnY3VyZW50IHByZXYnKVxyXG4gICAgICBpZigrJCh0aGlzKS5hdHRyKCdkYXRhLXNsaWRlJykgPT0gK3doaWNoU2xpZGUpe1xyXG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2N1cmVudCcpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QxJylcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmKCskKHRoaXMpLmF0dHIoJ2RhdGEtc2xpZGUnKSA8ICt3aGljaFNsaWRlKXtcclxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdjdXJlbnQgcHJldicpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QyJylcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlKCdjdXJlbnQgcHJldicpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Rlc3QzJylcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBjdXJlbnRTbGlkZSA9IDQgKyArd2hpY2hTbGlkZTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJCgnLm1haW4tcGFnZScpLmFkZENsYXNzKCdwcmV2U2xpZGUnKVxyXG4gICAgICAkKCcudGhyZWUtcGFydC1ibG9jaycpLmFkZENsYXNzKCdhbmltYXRlIHByZXYnKVxyXG4gICAgICAkKCcudGhyZWUtcGFydC1ibG9jaycpLmF0dHIoJ2RhdGEtc2Nyb2xsJywgJzUnKVxyXG4gICAgICAkKCcudGhyZWUtcGFydC1ibG9jayAuYm90dG9tLXBhcnQgLmJvdHRvbS1wYXJ0X19yaWdodCAuaW1nJykuZWFjaChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgaWYoaW5kZXggPT0gKGN1cmVudFNsaWRlIC0gKCArd2hpY2hTbGlkZSkpKXtcclxuICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnY3VyZW50JylcclxuICAgICAgICB9ZWxzZSBpZihpbmRleCA9PSAoY3VyZW50U2xpZGUgLSAoLTEgKyArd2hpY2hTbGlkZSkpKXtcclxuICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1zY3JvbGwnLCAnbmV4dCcpXHJcbiAgICAgICAgfWVsc2UgaWYoaW5kZXggPT0gIChjdXJlbnRTbGlkZSAtICgxICsgK3doaWNoU2xpZGUpKSl7XHJcbiAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtc2Nyb2xsJywgJ3ByZXYnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgJCh0aGlzKS5hdHRyKCdkYXRhLXNjcm9sbCcsICdwcmV2JylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgICQoJy50aHJlZS1wYXJ0LWJsb2NrIC50b3AtcGFydCcpLmFkZENsYXNzKCd0b3AtcGFydC0tYmctcG9zaXRpb24nKTtcclxuICAgICAgJCgnLnRocmVlLXBhcnQtYmxvY2sgLnRvcC1wYXJ0IC50ZXh0LXNjcm9sbCcpLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKC0nKyAoMTAwICogY3VyZW50U2xpZGUpICsndncsIDAsIDApJylcclxuXHJcbiAgICAgICQoJy50ZXh0X193cmFwcGVyJykuZWFjaChmdW5jdGlvbihpbmRleCl7XHJcbiAgICAgICAgaWYoaW5kZXggPT0gY3VyZW50U2xpZGUgLSAyKXtcclxuICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jdXJlbnQnLCAndHJ1ZScpXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY3VyZW50JywgJ2ZhbHNlJylcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgICQoJy5idXJnZXInKS5hZGRDbGFzcygnc3Bhbi1jb2xvci0tYmxhY2staW1wb3J0YW50JylcclxuICAgICAgXHJcbiAgICB9LCAxNTAwKVxyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICBjYW5TY3JvbGwgPSB0cnVlXHJcbiAgICB9LCAyNTAwKVxyXG4gIH1cclxuICAvLyA8LS0tIFVTRSBUSElTIEZVTkNUSU9OIElGIFlPVSBXQU5UIFRPIFNDUk9MTCBPTiBTT01FIFNMSURFIFdIRU4gQ0xJQ0sgT04gQlROXHJcblxyXG4gICQoJy5kcm9wLW1lbnUgbmF2IGEnKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNsaWRlID0gJCh0aGlzKS5wYXJlbnQoKS5hdHRyKCdkYXRhLXNjcm9sbFRvJylcclxuICAgIHNjcm9sbFRvU29tZVNsaWRlKHNsaWRlKVxyXG4gICAgJCgnLmRyb3AtbWVudScpLnJlbW92ZUNsYXNzKCdkcm9wLW1lbnUtLWFjdGl2ZScpXHJcbiAgfSlcclxuXHJcbiAgJCgnLnNjcm9sbC1kb3duIGEnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBzbGlkZSA9ICQodGhpcykucGFyZW50KCkuYXR0cignZGF0YS1zY3JvbGxUbycpXHJcbiAgICAkKHRoaXMpLnBhcmVudCgpLmFkZENsYXNzKCdoaWRlJylcclxuICAgIHNjcm9sbFRvU29tZVNsaWRlKHNsaWRlKVxyXG4gIH0pXHJcblxyXG59KShqUXVlcnkpOyJdfQ==
